{
  "version": 3,
  "sources": ["src/index.ts", "src/utils.ts", "src/registry.ts"],
  "sourcesContent": ["import {\r\n\tDomTriggerData,\r\n\tDomTriggerHandler,\r\n\tDomTriggerRunOptions,\r\n} from \"./types\";\r\nimport {\r\n\tassertType,\r\n\tassertObject,\r\n\tassertElement,\r\n\tassertEvent,\r\n\tisKebabName,\r\n\tcollectTriggerElements,\r\n\tgetTriggerNames,\r\n\tUNCACHE_PARAM,\r\n\tcollectData,\r\n\tisElementCenterInView,\r\n} from \"./utils\";\r\nimport { Registry } from \"./registry\";\r\n\r\nconst JS_PREFIX = \"js-\";\r\n\r\ntype DomEventName =\r\n\t| keyof HTMLElementEventMap\r\n\t| keyof DocumentEventMap\r\n\t| keyof WindowEventMap;\r\n\r\nconst EVENT_PREFIX_MAP: Partial<Record<DomEventName, string>> = {\r\n\t// --- \u30DA\u30FC\u30B8 ---\r\n\tload: `${JS_PREFIX}load-`,\r\n\tpageshow: `${JS_PREFIX}pageshow-`,\r\n\tvisibilitychange: `${JS_PREFIX}visibilitychange-`,\r\n\tpagehide: `${JS_PREFIX}pagehide-`,\r\n\t// --- \u30CD\u30C3\u30C8\u30EF\u30FC\u30AF ---\r\n\toffline: `${JS_PREFIX}offline-`,\r\n\tonline: `${JS_PREFIX}online-`,\r\n\t// --- \u30AF\u30EA\u30C3\u30AF ---\r\n\tclick: `${JS_PREFIX}click-`,\r\n\t// --- \u30D5\u30A9\u30FC\u30E0 ---\r\n\tsubmit: `${JS_PREFIX}submit-`,\r\n\tchange: `${JS_PREFIX}change-`,\r\n\tinput: `${JS_PREFIX}input-`,\r\n\t// --- \u30D5\u30A9\u30FC\u30AB\u30B9 ---\r\n\tfocusin: `${JS_PREFIX}focusin-`,\r\n\tfocusout: `${JS_PREFIX}focusout-`,\r\n\t// --- \u30DD\u30A4\u30F3\u30BF\u30FC ---\r\n\tpointerdown: `${JS_PREFIX}pointerdown-`,\r\n\tpointermove: `${JS_PREFIX}pointermove-`,\r\n\tpointerup: `${JS_PREFIX}pointerup-`,\r\n\tpointercancel: `${JS_PREFIX}pointercancel-`,\r\n\t// --- \u30A2\u30CB\u30E1\u30FC\u30B7\u30E7\u30F3 ---\r\n\ttransitionend: `${JS_PREFIX}transitionend-`,\r\n\tanimationend: `${JS_PREFIX}animationend-`,\r\n\t// --- \u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9 ---\r\n\tcopy: `${JS_PREFIX}copy-`,\r\n\tpaste: `${JS_PREFIX}paste-`,\r\n\t// --- \u30AD\u30FC\u30DC\u30FC\u30C9\uFF08\u30AF\u30EA\u30C3\u30AF\u88DC\u52A9\u30FBPC\u5411\u3051\uFF09 ---\r\n\tkeydown: `${JS_PREFIX}keydown-`,\r\n\tkeyup: `${JS_PREFIX}keyup-`,\r\n\t// --- \u30DE\u30A6\u30B9\uFF08\u30DB\u30D0\u30FC\u6F14\u51FA\u30FBPC\u5411\u3051\uFF09 ---\r\n\tmouseover: `${JS_PREFIX}mouseover-`,\r\n\tmouseout: `${JS_PREFIX}mouseout-`,\r\n};\r\n\r\nconst WINDOW_EVENTS: Set<DomEventName> = new Set([\r\n\t\"load\",\r\n\t\"pageshow\",\r\n\t\"pagehide\",\r\n\t\"offline\",\r\n\t\"online\",\r\n]);\r\n\r\nconst PAGE_LEVEL_EVENTS: Set<DomEventName> = new Set([\r\n\t\"visibilitychange\",\r\n\t...WINDOW_EVENTS,\r\n]);\r\n\r\nconst EVENT_NAME_LIST = Object.keys(EVENT_PREFIX_MAP);\r\n\r\nconst EVENT_PARAM_PREVENT_DEFAULT = \"prevent-default\";\r\nconst EVENT_PARAM_STOP_PROPAGATION = \"stop-propagation\";\r\n\r\nconst EVENT_PARAM_PREVENT_DEFAULT_LIST = EVENT_NAME_LIST.map(\r\n\t(eventName) => `${eventName}-${EVENT_PARAM_PREVENT_DEFAULT}`\r\n);\r\nconst EVENT_PARAM_STOP_PROPAGATION_LIST = EVENT_NAME_LIST.map(\r\n\t(eventName) => `${eventName}-${EVENT_PARAM_STOP_PROPAGATION}`\r\n);\r\n\r\nconst boundEvents = new Set<string>();\r\nlet isTrackingPointer = false;\r\n\r\nconst VIEWIN_PREFIX = `${JS_PREFIX}viewin-`;\r\nconst VIEWOUT_PREFIX = `${JS_PREFIX}viewout-`;\r\n\r\nconst VIEW_PARAM_CENTER = \"view-center\";\r\nconst VIEW_PARAM_RATIO = \"view-ratio\";\r\nconst viewSelector = [\r\n\t`[class^=\"${VIEWIN_PREFIX}\"]`,\r\n\t`[class*=\" ${VIEWIN_PREFIX}\"]`,\r\n\t`[class^=\"${VIEWOUT_PREFIX}\"]`,\r\n\t`[class*=\" ${VIEWOUT_PREFIX}\"]`,\r\n].join(\", \");\r\n\r\nlet viewObserver: IntersectionObserver | null = null;\r\nconst observedElements = new WeakSet<Element>();\r\nconst viewState = new WeakMap<Element, \"in\" | \"out\">();\r\n\r\nconst RESERVED_TRIGGER_NAMES = new Set([\r\n\t...EVENT_PARAM_PREVENT_DEFAULT_LIST,\r\n\t...EVENT_PARAM_STOP_PROPAGATION_LIST,\r\n\tVIEW_PARAM_CENTER,\r\n\tVIEW_PARAM_RATIO,\r\n\tUNCACHE_PARAM,\r\n]);\r\n\r\nconst RESERVED_TRIGGER_NAME_PREFIX = `${UNCACHE_PARAM}-`;\r\n\r\nfunction use<TData extends DomTriggerData = DomTriggerData>(\r\n\tname: string,\r\n\thandler: DomTriggerHandler<TData>\r\n) {\r\n\tassertType(\r\n\t\tname,\r\n\t\t\"string\",\r\n\t\t\"[DomTrigger.use] Invalid argument: the first parameter must be a string.\"\r\n\t);\r\n\tassertType(\r\n\t\thandler,\r\n\t\t\"function\",\r\n\t\t\"[DomTrigger.use] Invalid argument: the second parameter must be a function.\"\r\n\t);\r\n\tif (!isKebabName(name)) {\r\n\t\tthrow new Error(\r\n\t\t\t`[DomTrigger.use] Invalid trigger name: \"${name}\". Use kebab-case.`\r\n\t\t);\r\n\t}\r\n\tif (\r\n\t\tRESERVED_TRIGGER_NAMES.has(name) ||\r\n\t\tname.startsWith(RESERVED_TRIGGER_NAME_PREFIX)\r\n\t) {\r\n\t\tthrow new Error(`[DomTrigger.use] Reserved trigger name: \"${name}\".`);\r\n\t}\r\n\tRegistry.set(name, handler as DomTriggerHandler);\r\n}\r\n\r\nasync function run<TData extends DomTriggerData = DomTriggerData>(\r\n\tname: string,\r\n\toptions?: DomTriggerRunOptions<TData>\r\n) {\r\n\tassertType(\r\n\t\tname,\r\n\t\t\"string\",\r\n\t\t\"[DomTrigger.run] Invalid argument: the first parameter must be a string.\"\r\n\t);\r\n\tif (options !== undefined)\r\n\t\tassertObject(\r\n\t\t\toptions,\r\n\t\t\t\"[DomTrigger.run] Invalid argument: the second parameter must be an object when provided.\"\r\n\t\t);\r\n\tif (!isKebabName(name)) {\r\n\t\tthrow new Error(\r\n\t\t\t`[DomTrigger.run] Invalid trigger name: \"${name}\". Use kebab-case.`\r\n\t\t);\r\n\t}\r\n\tconst handler = Registry.get(name);\r\n\tif (!handler) return;\r\n\tconst el = options?.el;\r\n\tconst data = options?.data;\r\n\tconst event = options?.event;\r\n\tawait handler({\r\n\t\tel,\r\n\t\tdata,\r\n\t\tctx: { name, source: \"run\", event },\r\n\t});\r\n}\r\n\r\nasync function invoke(name: string, el: Element, event?: Event) {\r\n\tassertType(\r\n\t\tname,\r\n\t\t\"string\",\r\n\t\t\"[DomTrigger.invoke] Invalid argument: the first parameter must be a string.\"\r\n\t);\r\n\tassertElement(\r\n\t\tel,\r\n\t\t\"[DomTrigger.invoke] Invalid argument: the second parameter must be an Element.\"\r\n\t);\r\n\tif (event !== undefined)\r\n\t\tassertEvent(\r\n\t\t\tevent,\r\n\t\t\t\"[DomTrigger.invoke] Invalid argument: the third parameter must be an Event when provided.\"\r\n\t\t);\r\n\tif (!isKebabName(name)) {\r\n\t\tthrow new Error(\r\n\t\t\t`[DomTrigger.invoke] Invalid trigger name: \"${name}\". Use kebab-case.`\r\n\t\t);\r\n\t}\r\n\tconst handler = Registry.get(name);\r\n\tif (!handler) return;\r\n\tconst data = collectData(el, name);\r\n\tawait handler({ el, data, ctx: { name, source: \"invoke\", event } });\r\n}\r\n\r\nfunction listenDelegated(eventName: DomEventName) {\r\n\tif (typeof document === \"undefined\") return;\r\n\tif (boundEvents.has(eventName)) return;\r\n\tboundEvents.add(eventName);\r\n\r\n\tconst prefix = EVENT_PREFIX_MAP[eventName];\r\n\tif (!prefix) return;\r\n\r\n\tconst listener = WINDOW_EVENTS.has(eventName) ? window : document;\r\n\r\n\tlistener.addEventListener(eventName, (ev: Event) => {\r\n\t\tif (eventName === \"pointermove\" && !isTrackingPointer) return;\r\n\t\tif (eventName === \"pointerup\" || eventName === \"pointercancel\")\r\n\t\t\tisTrackingPointer = false;\r\n\r\n\t\tconst target = PAGE_LEVEL_EVENTS.has(eventName)\r\n\t\t\t? document.body\r\n\t\t\t: ev.target instanceof Element\r\n\t\t\t? ev.target\r\n\t\t\t: null;\r\n\t\tif (!target) return;\r\n\r\n\t\tconst elements = collectTriggerElements(target, prefix);\r\n\t\tif (elements.length === 0) return;\r\n\r\n\t\tif (eventName === \"pointerdown\") isTrackingPointer = true;\r\n\r\n\t\tlet prevented = false;\r\n\r\n\t\tfor (const el of elements) {\r\n\t\t\tif (!prevented) {\r\n\t\t\t\tconst attrPreventDefault = el.getAttribute(\r\n\t\t\t\t\t`data-${eventName}-${EVENT_PARAM_PREVENT_DEFAULT}`\r\n\t\t\t\t);\r\n\t\t\t\tconst shouldPreventDefault =\r\n\t\t\t\t\tattrPreventDefault !== null && attrPreventDefault !== \"false\";\r\n\t\t\t\tif (shouldPreventDefault) {\r\n\t\t\t\t\tev.preventDefault();\r\n\t\t\t\t\tprevented = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst attrStopPropagation = el.getAttribute(\r\n\t\t\t\t`data-${eventName}-${EVENT_PARAM_STOP_PROPAGATION}`\r\n\t\t\t);\r\n\t\t\tconst shouldStopPropagation =\r\n\t\t\t\tattrStopPropagation !== null && attrStopPropagation !== \"false\";\r\n\r\n\t\t\tconst names = getTriggerNames(el, prefix);\r\n\t\t\tfor (const name of names) invoke(name, el, ev);\r\n\r\n\t\t\tif (shouldStopPropagation) {\r\n\t\t\t\tev.stopImmediatePropagation();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction listen() {\r\n\tfor (const eventName of EVENT_NAME_LIST)\r\n\t\tlistenDelegated(eventName as DomEventName);\r\n}\r\n\r\nfunction observeView() {\r\n\tif (typeof document === \"undefined\") return;\r\n\tif (typeof IntersectionObserver === \"undefined\") return;\r\n\r\n\tif (!viewObserver) {\r\n\t\tviewObserver = new IntersectionObserver(\r\n\t\t\t(entries) => {\r\n\t\t\t\tfor (const entry of entries) {\r\n\t\t\t\t\tif (!(entry.target instanceof Element)) continue;\r\n\t\t\t\t\tconst el = entry.target;\r\n\r\n\t\t\t\t\tlet isViewIn = false;\r\n\r\n\t\t\t\t\tconst attrCenter = el.getAttribute(`data-${VIEW_PARAM_CENTER}`);\r\n\t\t\t\t\tif (attrCenter !== null) {\r\n\t\t\t\t\t\tconst rawCenter = attrCenter ? parseInt(attrCenter, 10) : 20;\r\n\t\t\t\t\t\tconst offset = rawCenter >= 0 ? rawCenter : 20;\r\n\t\t\t\t\t\tisViewIn = isElementCenterInView(entry, offset);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst attrRatio = el.getAttribute(`data-${VIEW_PARAM_RATIO}`);\r\n\t\t\t\t\t\tconst rawRatio = attrRatio ? parseFloat(attrRatio) : 0;\r\n\t\t\t\t\t\tconst thresholdRatio =\r\n\t\t\t\t\t\t\trawRatio >= 0 && rawRatio <= 1 ? rawRatio : 0;\r\n\t\t\t\t\t\tconst currentRatio = entry.intersectionRatio;\r\n\t\t\t\t\t\tisViewIn = currentRatio >= thresholdRatio;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst prev = viewState.get(el);\r\n\r\n\t\t\t\t\tif (entry.isIntersecting && isViewIn) {\r\n\t\t\t\t\t\tif (prev === \"in\") continue;\r\n\t\t\t\t\t\tconst names = getTriggerNames(el, VIEWIN_PREFIX);\r\n\t\t\t\t\t\tfor (const name of names) void invoke(name, el);\r\n\t\t\t\t\t\tviewState.set(el, \"in\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (prev !== \"in\") continue;\r\n\t\t\t\t\t\tconst names = getTriggerNames(el, VIEWOUT_PREFIX);\r\n\t\t\t\t\t\tfor (const name of names) void invoke(name, el);\r\n\t\t\t\t\t\tviewState.set(el, \"out\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tthreshold: Array.from({ length: 11 }, (_, i) => i / 10),\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tconst nodes = document.querySelectorAll(viewSelector);\r\n\tnodes.forEach((el) => {\r\n\t\tif (viewObserver && !observedElements.has(el)) {\r\n\t\t\tviewObserver.observe(el);\r\n\t\t\tobservedElements.add(el);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction unuse(name: string) {\r\n\tassertType(\r\n\t\tname,\r\n\t\t\"string\",\r\n\t\t\"[DomTrigger.unuse] Invalid argument: the first parameter must be a string.\"\r\n\t);\r\n\tif (!isKebabName(name)) {\r\n\t\tthrow new Error(\r\n\t\t\t`[DomTrigger.unuse] Invalid trigger name: \"${name}\". Use kebab-case.`\r\n\t\t);\r\n\t}\r\n\tRegistry.delete(name);\r\n}\r\n\r\nfunction clear() {\r\n\tRegistry.clear();\r\n}\r\n\r\nfunction setup() {\r\n\tlisten();\r\n\tobserveView();\r\n}\r\n\r\nfunction setupOnReady(callback?: () => void) {\r\n\tif (callback !== undefined)\r\n\t\tassertType(\r\n\t\t\tcallback,\r\n\t\t\t\"function\",\r\n\t\t\t\"[DomTrigger.setupOnReady] Invalid argument: the first parameter must be a function when provided.\"\r\n\t\t);\r\n\r\n\tif (typeof document === \"undefined\") return;\r\n\r\n\tconst trySetup = () => {\r\n\t\ttry {\r\n\t\t\tsetup();\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(\"[DomTrigger.setupOnReady] Failed to setup:\", e);\r\n\t\t}\r\n\t\tcallback?.();\r\n\t};\r\n\r\n\tif (document.readyState === \"loading\") {\r\n\t\tdocument.addEventListener(\"DOMContentLoaded\", trySetup, {\r\n\t\t\tonce: true,\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\r\n\ttrySetup();\r\n}\r\n\r\nconst DomTrigger = {\r\n\tuse,\r\n\trun,\r\n\tinvoke,\r\n\tlisten,\r\n\tobserveView,\r\n\tunuse,\r\n\tclear,\r\n\tsetup,\r\n\tsetupOnReady,\r\n};\r\n\r\nexport default DomTrigger;\r\n", "export function assertType(\r\n\tvalue: unknown,\r\n\ttype: \"string\" | \"function\",\r\n\tmessage: string\r\n): void {\r\n\tif (typeof value !== type) {\r\n\t\tthrow new TypeError(message);\r\n\t}\r\n}\r\n\r\nexport function assertObject(value: unknown, message: string): void {\r\n\tif (typeof value !== \"object\" || value === null) {\r\n\t\tthrow new TypeError(message);\r\n\t}\r\n}\r\n\r\nexport function assertElement(value: unknown, message: string) {\r\n\tif (!(value instanceof Element)) {\r\n\t\tthrow new TypeError(message);\r\n\t}\r\n}\r\n\r\nexport function assertEvent(value: unknown, message: string) {\r\n\tif (!(value instanceof Event)) {\r\n\t\tthrow new TypeError(message);\r\n\t}\r\n}\r\n\r\nexport function isKebabName(name: string): boolean {\r\n\treturn /^[a-z][a-z0-9]*(?:-[a-z0-9]+)*$/.test(name);\r\n}\r\n\r\nexport function collectTriggerElements(\r\n\ttarget: Element,\r\n\tprefix: string\r\n): Element[] {\r\n\tconst results: Element[] = [];\r\n\tlet current: Element | null = target;\r\n\twhile (current) {\r\n\t\tif (current.matches(`[class^=\"${prefix}\"], [class*=\" ${prefix}\"]`)) {\r\n\t\t\tresults.push(current);\r\n\t\t}\r\n\t\tcurrent = current.parentElement;\r\n\t}\r\n\treturn results;\r\n}\r\n\r\nexport function getTriggerNames(el: Element, prefix: string): string[] {\r\n\tconst names: string[] = [];\r\n\tel.classList.forEach((cls) => {\r\n\t\tif (!cls.startsWith(prefix)) return;\r\n\t\tconst name = cls.slice(prefix.length);\r\n\t\tif (isKebabName(name)) names.push(name);\r\n\t});\r\n\treturn names;\r\n}\r\n\r\nconst cache = new WeakMap<Element, Map<string, Record<string, unknown>>>();\r\n\r\nexport const UNCACHE_PARAM = \"uncache\";\r\n\r\nexport function collectData(\r\n\tel: Element,\r\n\tname: string\r\n): Record<string, unknown> {\r\n\tconst uncacheAttr = `data-${UNCACHE_PARAM}-${name}`;\r\n\tconst shouldCache = !el.hasAttribute(uncacheAttr);\r\n\r\n\tif (shouldCache) {\r\n\t\tconst inner = cache.get(el);\r\n\t\tconst cached = inner?.get(name);\r\n\t\tif (cached) return cached;\r\n\t}\r\n\r\n\tconst targetAttr = shouldCache ? `data-${name}` : uncacheAttr;\r\n\tconst raw = el.getAttribute(targetAttr);\r\n\tif (!raw) return {};\r\n\r\n\tlet parsed: Record<string, unknown>;\r\n\ttry {\r\n\t\tparsed = JSON.parse(raw);\r\n\t} catch {\r\n\t\tthrow new Error(`[DomTrigger] Invalid JSON in ${targetAttr}: ${raw}`);\r\n\t}\r\n\r\n\tif (shouldCache) {\r\n\t\tconst inner = cache.get(el) ?? new Map();\r\n\t\tinner.set(name, parsed);\r\n\t\tcache.set(el, inner);\r\n\t}\r\n\r\n\treturn parsed;\r\n}\r\n\r\nexport function isElementCenterInView(\r\n\tentry: IntersectionObserverEntry,\r\n\toffset: number\r\n) {\r\n\tconst rect = entry.boundingClientRect;\r\n\tconst elementCenter = rect.top + rect.height / 2;\r\n\r\n\tconst viewportCenter = window.innerHeight / 2;\r\n\tconst diff = Math.abs(elementCenter - viewportCenter);\r\n\r\n\treturn diff <= offset;\r\n}\r\n", "import { DomTriggerHandler } from \"./types\";\r\n\r\nconst map = new Map<string, DomTriggerHandler>();\r\n\r\nexport const Registry = {\r\n\tset(name: string, handler: DomTriggerHandler) {\r\n\t\tmap.set(name, handler);\r\n\t},\r\n\tget(name: string): DomTriggerHandler | undefined {\r\n\t\treturn map.get(name);\r\n\t},\r\n\tdelete(name: string) {\r\n\t\tmap.delete(name);\r\n\t},\r\n\tclear() {\r\n\t\tmap.clear();\r\n\t},\r\n};\r\n"],
  "mappings": "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",
  "names": ["index_exports", "__export", "index_default", "assertType", "value", "type", "message", "assertObject", "assertElement", "assertEvent", "isKebabName", "name", "collectTriggerElements", "target", "prefix", "results", "current", "getTriggerNames", "el", "names", "cls", "cache", "UNCACHE_PARAM", "collectData", "uncacheAttr", "shouldCache", "cached", "targetAttr", "raw", "parsed", "inner", "isElementCenterInView", "entry", "offset", "rect", "elementCenter", "viewportCenter", "map", "Registry", "name", "handler", "JS_PREFIX", "EVENT_PREFIX_MAP", "WINDOW_EVENTS", "PAGE_LEVEL_EVENTS", "EVENT_NAME_LIST", "EVENT_PARAM_PREVENT_DEFAULT", "EVENT_PARAM_STOP_PROPAGATION", "EVENT_PARAM_PREVENT_DEFAULT_LIST", "eventName", "EVENT_PARAM_STOP_PROPAGATION_LIST", "boundEvents", "isTrackingPointer", "VIEWIN_PREFIX", "VIEWOUT_PREFIX", "VIEW_PARAM_CENTER", "VIEW_PARAM_RATIO", "viewSelector", "viewObserver", "observedElements", "viewState", "RESERVED_TRIGGER_NAMES", "UNCACHE_PARAM", "RESERVED_TRIGGER_NAME_PREFIX", "use", "name", "handler", "assertType", "isKebabName", "Registry", "run", "options", "assertObject", "el", "data", "event", "invoke", "assertElement", "assertEvent", "collectData", "listenDelegated", "prefix", "ev", "target", "elements", "collectTriggerElements", "prevented", "attrPreventDefault", "attrStopPropagation", "shouldStopPropagation", "names", "getTriggerNames", "listen", "observeView", "entries", "entry", "isViewIn", "attrCenter", "rawCenter", "offset", "isElementCenterInView", "attrRatio", "rawRatio", "thresholdRatio", "prev", "_", "i", "unuse", "clear", "setup", "setupOnReady", "callback", "trySetup", "e", "DomTrigger", "index_default"]
}
