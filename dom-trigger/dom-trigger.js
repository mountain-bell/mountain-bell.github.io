"use strict";var DomTrigger=(()=>{var f=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var v=Object.prototype.hasOwnProperty;var b=(e,n)=>{for(var o in n)f(e,o,{get:n[o],enumerable:!0})},T=(e,n,o,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of h(n))!v.call(e,i)&&i!==o&&f(e,i,{get:()=>n[i],enumerable:!(r=w(n,i))||r.enumerable});return e};var k=e=>T(f({},"__esModule",{value:!0}),e);var x={};b(x,{DomTrigger:()=>S});function a(e){return/^[a-z][a-z0-9]*(?:-[a-z0-9]+)*$/.test(e)}function u(e,n){let o=(e.getAttribute("class")||"").split(/\s+/),r=[];for(let i of o){if(!i.startsWith(n))continue;let c=i.slice(n.length);a(c)&&r.push(c)}return r}function p(e,n){let o=e.getAttribute(`data-${n}`);if(!o)return{};try{return JSON.parse(o)}catch{throw new Error(`[DomTrigger] Invalid JSON in data-${n}: ${o}`)}}var g=new Map,s={set(e,n){g.set(e,n)},get(e){return g.get(e)},delete(e){g.delete(e)},clear(){g.clear()}};var t="js-",l=`${t}load-`,m={click:`${t}click-`,submit:`${t}submit-`,change:`${t}change-`,input:`${t}input-`,keydown:`${t}keydown-`,keyup:`${t}keyup-`,focusin:`${t}focusin-`,focusout:`${t}focusout-`,pointerdown:`${t}pointerdown-`,pointerup:`${t}pointerup-`,mouseover:`${t}mouseover-`,mouseout:`${t}mouseout-`,play:`${t}play-`,pause:`${t}pause-`,ended:`${t}ended-`,transitionend:`${t}transitionend-`,animationend:`${t}animationend-`,visibilitychange:`${t}visibilitychange-`,pageshow:`${t}pageshow-`,pagehide:`${t}pagehide-`,online:`${t}online-`,offline:`${t}offline-`,copy:`${t}copy-`,paste:`${t}paste-`},$=new Set;function A(e,n){if(!a(e))throw new Error(`[DomTrigger.use] Invalid trigger name: "${e}". Use kebab-case.`);s.set(e,n)}async function d(e,n,o){if(!a(e))throw new Error(`[DomTrigger.invoke] Invalid trigger name: "${e}". Use kebab-case.`);let r=s.get(e);if(!r)return;let i=p(n,e);await r(n,i,{name:e,event:o})}async function N(e,n,o){if(!a(e))throw new Error(`[DomTrigger.run] Invalid trigger name: "${e}". Use kebab-case.`);let r=s.get(e);r&&await r(n,o??{},{name:e})}async function y(){if(typeof document>"u")return;let e=Array.from(document.querySelectorAll(`[class^="${l}"], [class*=" ${l}"]`));for(let n of e){let o=u(n,l);for(let r of o)d(r,n)}}async function E(){if(typeof document>"u")return;let e=m.pageshow;if(e===void 0)return;let n=Array.from(document.querySelectorAll(`[class^="${e}"], [class*=" ${e}"]`));for(let o of n){let r=u(o,e);for(let i of r)d(i,o)}}function H(e){if(typeof document>"u"||$.has(e))return;$.add(e);let n=m[e];n&&document.addEventListener(e,o=>{let r=o.target;if(!r)return;let i=r.closest(`[class^="${n}"], [class*=" ${n}"]`);if(!i)return;let c=u(i,n);for(let D of c)d(D,i,o)})}function I(){for(let e of Object.keys(m))H(e)}function M(e){s.delete(e)}function R(){s.clear()}var S={use:A,invoke:d,run:N,runLoad:y,runShow:E,unuse:M,clear:R};typeof document<"u"&&document.addEventListener("DOMContentLoaded",()=>{y(),E(),I()});return k(x);})();
//# sourceMappingURL=dom-trigger.js.map
